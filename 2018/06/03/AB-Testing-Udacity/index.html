<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Product,Data Science," />










<meta name="description" content="Udacity course notes on A/B Testing provided by Google.">
<meta name="keywords" content="Product,Data Science">
<meta property="og:type" content="article">
<meta property="og:title" content="Udacity - A&#x2F;B Testing">
<meta property="og:url" content="https://joannaoyzl.github.io/2018/06/03/AB-Testing-Udacity/index.html">
<meta property="og:site_name" content="Joanna">
<meta property="og:description" content="Udacity course notes on A/B Testing provided by Google.">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-07-13T04:06:57.744Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Udacity - A&#x2F;B Testing">
<meta name="twitter:description" content="Udacity course notes on A/B Testing provided by Google.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://joannaoyzl.github.io/2018/06/03/AB-Testing-Udacity/"/>





  <title>Udacity - A/B Testing | Joanna</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-134453862-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Joanna</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://joannaoyzl.github.io/2018/06/03/AB-Testing-Udacity/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Joanna">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Joanna">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Udacity - A/B Testing</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-03T20:17:20-07:00">
                2018-06-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Course-Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Course Notes</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/06/03/AB-Testing-Udacity/" class="leancloud_visitors" data-flag-title="Udacity - A/B Testing">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Udacity course notes on <a href="https://classroom.udacity.com/courses/ud257/lessons/4018018619/concepts/40043986740923" target="_blank" rel="noopener">A/B Testing provided by Google</a>.<br><a id="more"></a></p>
<h1 id="Lesson-1-Overview-of-A-B-Testing"><a href="#Lesson-1-Overview-of-A-B-Testing" class="headerlink" title="Lesson 1: Overview of A/B Testing"></a>Lesson 1: Overview of A/B Testing</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>A/B testing is a general methodology used online when you want to test out a new product or feature. You take two sets of users and </p>
<ul>
<li>show <em>the control set</em> your existing product or feature, and</li>
<li>show <em>your experiment</em> the new version<br>Then you need to determine which version of your feature or product is better based on the different performance of these two sets.</li>
</ul>
<h2 id="When-do-we-use-A-B-Testing"><a href="#When-do-we-use-A-B-Testing" class="headerlink" title="When do we use A/B Testing"></a>When do we use A/B Testing</h2><ul>
<li>New features</li>
<li>Addition to UI</li>
<li>Different website appearance<br>Sometimes these tests may go a little bit too far: Google tested 41 different shades of blue.</li>
</ul>
<p>Or less user visible changes:</p>
<ul>
<li>Content ranking changes: first show a news article or an encouragement to add new contacts (LinkedIn)</li>
<li>New ranking algorithms for movie recommendation site</li>
<li>Change backend settings like page load time, results users see, etc.</li>
</ul>
<h2 id="When-is-the-A-B-testing-not-as-useful"><a href="#When-is-the-A-B-testing-not-as-useful" class="headerlink" title="When is the A/B testing not as useful"></a>When is the A/B testing not as useful</h2><p>A/B testing is useful for helping you to climb to the peak of the current mountain, but if you want to figure out whether you want to be on this mountain or another mountain, A/B testing isn’t so useful.</p>
<p>That is to say, A/B testing is not as useful when <em>testing out new experiences</em>. </p>
<p>Reasons:</p>
<ol>
<li>Change Aversion: Users may react to the change in their own way, simply because they are more used to the old version.</li>
<li>Novelty Effect: People blindly test out every new things</li>
<li>It cannot tell you whether you are missing something: It can tell you whether A is better than B, but it cannot tell you if there should be a C that can actually outperforms both A and B.</li>
</ol>
<p>In a new experience, there are two kinds of issues:</p>
<ol>
<li>What is your baseline for comparison?</li>
<li>How long does it take to actually have your users adapt to the new experience, so that you can really capture the plateau experience and make a robust decision? (like returning customers. For websites whose customers do not come back that often, it is difficult to observe the effect of referral or returning customers in the short run)</li>
</ol>
<p>There are things that you want to know that are difficult to be tested out via short-term A/B testing</p>
<h3 id="Examples-of-times-when-we-should-not-using-A-B-testing"><a href="#Examples-of-times-when-we-should-not-using-A-B-testing" class="headerlink" title="Examples of times when we should not using A/B testing"></a>Examples of times when we should not using A/B testing</h3><ul>
<li>Online shopping company want to know if their website is complete and carries all the products that the customers want to see. </li>
</ul>
<p>We can try to carry a specific additional product and use A/B testing to check the effect, but if the users don’t buy it, you still won’t know if there is a different product that you are missing. Instead, we can simply try to ask the users whether they feeling there is anything missing.</p>
<ul>
<li>Add premium service which needs users to upgrade, log in and do a bunch of things.</li>
</ul>
<p>Users have to opt into a permium service, so you cannot randomly assigning people to one group or another. However, you can still gather useful information through an A/B test. For example, you can see how many users will read the new features, or how many will choose to upgrade if you make the choice available. But you cannot fully test out the change</p>
<ul>
<li>Website selling cars want to know whether a change will increase repeating customers or referrals</li>
</ul>
<p>Since people don’t buy cars that often, it would take too long to see if you get repeating customers, and you don’t necessarily even have data about whther customers are recommending the site to their friends.</p>
<ul>
<li>Changing the branding, including main logo (<strong>tricky</strong>)</li>
</ul>
<p>Although it seems that you can easily apply A/B testing on this issue, changing the branding of your company can be surprisingly emotional for your users. They might need some time to get used to the new logo, so you wouldn’t want to make a decision based on a short time window of data collected in an A/B test</p>
<h2 id="Other-techniques-more-details-in-lesson-3"><a href="#Other-techniques-more-details-in-lesson-3" class="headerlink" title="Other techniques (more details in lesson 3)"></a>Other techniques (more details in lesson 3)</h2><p>When A/B testing is not that useful, we can use other techiniques to compliment the A/B test.</p>
<ul>
<li><p>Analyze the user activity logs on your website observationally or retrospectively, to see if a hypothesis can be developed about what’s causing changes in their behavior, and then go forward to design an perspective analysis to test out the thing that you discovered, to see if this can be realized. And then you can use A/B testing to compare the results of different analysis.</p>
</li>
<li><p>Deep and qualitative insights (vs. broad and quantitative results from A/B tests): tells you which mountain to go before thinking about how to reach the peak using A/B testing. e.g. user experience research, focus groups, surveys, human evaluation</p>
</li>
</ul>
<h2 id="History-of-A-B-Testing"><a href="#History-of-A-B-Testing" class="headerlink" title="History of A/B Testing"></a>History of A/B Testing</h2><p>The concept of A/B testing originated from agriculture, where people divide their land into sections and test the performance of different crops and nurturing methods. There are also lots of other fields that have been using A/B testing for a long time, like clinical trials in medicine.</p>
<p>The key thing in A/B testing: <strong>having a consistent response from your control and your experiment group</strong>, so that you can determine and structure the experiment to decide whether there’s a significant behavior change in your experiment group as opposed to in your control group.</p>
<p>The difference between these tests and online A/B testing is that the data online is of large quantity but low resolution. That is to say, the volume is big but you don’t know too much details about each data point. For traditional user experience research or hypothesis tests, you may have limited number of participants but sufficient information about each of them.</p>
<p>Another difference is that for online A/B testing, the goal is really about deciding whether this new product or feature is something that users will like. Therefore, when desigining the test, you have to make it robust and give you repeatable results, so that you can actually make good decisions about your new product or feature.</p>
<h2 id="An-A-B-Test-Example-for-This-Lesson"><a href="#An-A-B-Test-Example-for-This-Lesson" class="headerlink" title="An A/B Test Example for This Lesson"></a>An A/B Test Example for This Lesson</h2><h3 id="Background-Overview"><a href="#Background-Overview" class="headerlink" title="Background Overview"></a>Background Overview</h3><p>Audacity, an online education company that specially focus on online finance courses, is testing features that can increase student engagement.</p>
<p>Typical user flow at Audacity: (<strong>Customer Funnel</strong>)</p>
<ol>
<li>Homepage visit: Largest group of people</li>
<li>Exploring the site: click into the courses</li>
<li>Create an account: become a member</li>
<li>Complete: make a purchase, complete a class, finish a series of classes, or share the site on their blog, etc.</li>
</ol>
<p>You have the largest number of events happening at the top of your funnel, and as you go down, people who reach that level becomes rarer and rarer. </p>
<p>Actually, the users don’t strictly follow the funnel from up to down in a consistent manner. There is a lot of back and forth swirl between the different states, and also repeat visitors who skip over intermediate steps. (discussed in more details in lesson 3)</p>
<h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>Let’s now consider a experimental change to Audacity’s homepage. </p>
<h4 id="Defining-Hypothesis"><a href="#Defining-Hypothesis" class="headerlink" title="Defining Hypothesis"></a>Defining Hypothesis</h4><p>Preliminary hypothesis: Changing the ‘start now’ button from orange to pink will increase how many students explore Audacity’s courses. (move on to the 2nd step of the above funnel)</p>
<p>We need to refine our hypothesis with a reasonable and quantifiable metric.</p>
<h4 id="Choosing-a-metric"><a href="#Choosing-a-metric" class="headerlink" title="Choosing a metric"></a>Choosing a metric</h4><ol>
<li><p>Total number of courses completed. (too long time)<br>This is what Audacity ultimately cares about. However, given that it can take students weeks or months to finish courses, using this metric would simply take too much time to be practical.</p>
</li>
<li><p>Number of clicks<br>The assumption here is that if more people click on the button, and thus move on to exploring the site, then eventually some of them will create an account and go on to complete a course. In other words, increasing the rate at which users progress down the funnel at one level, will have a positive impact on the end of the funnel as well.</p>
<ul>
<li><em>Problems</em>: If more total users view the page in one version of the experiment, the count of clicks would not be sufficient enough to prove the case.</li>
</ul>
</li>
<li><p>$\frac{Number of Clicks}{Number of Page Views}$ or <strong>Click-through-rate (CTR)</strong></p>
</li>
<li>$\frac{Number of unique visitors who click}{Numebr of unique visitors to page}$ or <strong>Click-through-probability</strong><ul>
<li><em>What’s the different between 3 and 4?</em><br>  Consider the case that two people, A and B, visit the website. A leaves without clicking the button, while B clicks the button 5 times impatiently due to long wait time for the next page.<br>  $$Click-through-rate (CTR) = \frac{0 + 5}{2} = 2.5$$<br>  $$Click-through-probability = \frac{0 + 1}{2} = 0.5$$ Half of the users who visited the page clicked.</li>
<li><em>When to use rate and when to use probability?</em><br>  Generally speaking, you use a rate to measure <em>the usability of the site</em>, and a probability when you want to measure <em>the total impact</em>.<br>  For example, if you want to measure the usability of a particular button, you should use a rate, because the users have a variety of different places on the page that they can choose to click on, and the rate simply tells you how often do they actually find the button.<br>  If you want to know how often users when to the second level page on your site, you use a probability, because you only care about the unique visitors that enter to the next level</li>
<li><em>How to compute the rate or probability?</em><br>  You need to communicate with the engineers and ask them to modify the website so that you can capture the data you need.<br>  For calculating the rate, you need to capture events when a user view the page and click on the button, and then divide their sum.<br>  For calculating the rate, you have to match each page view with all of the child clicks, so that you can count, at most, one child click per page view.</li>
</ul>
</li>
</ol>
<p><strong>Updated Hypothesis: Changing the ‘start now’ button from orange to pink will increase the click-through-probability of the button.</strong><br>We assume here that the increase of this metric will ultimately increase our final business metric, which is total courses completed</p>
<h4 id="Review-the-Statistics"><a href="#Review-the-Statistics" class="headerlink" title="Review the Statistics"></a>Review the Statistics</h4><p>Since:</p>
<ol>
<li>the event has two exclusive outcomes: <em>click</em> and <em>no click</em>, </li>
<li>the events are independent (one click does not tell you anything about whether there is a click for the next visitor), </li>
<li>The events follow indentical distribution (the probabilities of success are the same)<br>and we are looking for a probability based on repeat events here, the binomial distribution will serve the case.</li>
</ol>
<p>Next, we should use the characteristics of binomial distribution to flag the results that should surprise us.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Product/" rel="tag"># Product</a>
          
            <a href="/tags/Data-Science/" rel="tag"># Data Science</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/31/Importing-Data2/" rel="next" title="DataCamp - Importing Data (Part 2)">
                <i class="fa fa-chevron-left"></i> DataCamp - Importing Data (Part 2)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/06/05/Pandas Foundation/" rel="prev" title="DataCamp - Pandas Foundation">
                DataCamp - Pandas Foundation <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview sidebar-nav-active" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Joanna" />
            
              <p class="site-author-name" itemprop="name">Joanna</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Lesson-1-Overview-of-A-B-Testing"><span class="nav-text">Lesson 1: Overview of A/B Testing</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Definition"><span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-do-we-use-A-B-Testing"><span class="nav-text">When do we use A/B Testing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-is-the-A-B-testing-not-as-useful"><span class="nav-text">When is the A/B testing not as useful</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-of-times-when-we-should-not-using-A-B-testing"><span class="nav-text">Examples of times when we should not using A/B testing</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Other-techniques-more-details-in-lesson-3"><span class="nav-text">Other techniques (more details in lesson 3)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#History-of-A-B-Testing"><span class="nav-text">History of A/B Testing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#An-A-B-Test-Example-for-This-Lesson"><span class="nav-text">An A/B Test Example for This Lesson</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Background-Overview"><span class="nav-text">Background Overview</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis"><span class="nav-text">Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Defining-Hypothesis"><span class="nav-text">Defining Hypothesis</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Choosing-a-metric"><span class="nav-text">Choosing a metric</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Review-the-Statistics"><span class="nav-text">Review the Statistics</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Joanna</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("sEEYEudBHdtybAJf5AQkiOl2-gzGzoHsz", "cDbeqqCJt4dq4hu7C9GaCrHB");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
